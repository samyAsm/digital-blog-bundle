
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

<script type="application/javascript">
    $(document).ready(function() {
        initSummernoteEditor();
    } );

    function initSummernoteEditor() {
        let container = $('#editor');

        if (container.html() !== undefined) {

            if (!container.hasClass('disabled-editor')) {

                container.summernote({
                    placeholder: container.attr('placeholder'),
                    tabsize: 4,
                    theme: 'monokai'
                });

                let toolbar = $(".note-toolbar.card-header")

                setInterval(function () {
                    let box = $('.note-editable');

                    let h = box[0].scrollHeight

                    if (Math.abs( h - parseInt(box.attr('data-height')) > 50)){
                        if (h > 200){
                            box.stop().animate({
                                height: h+'px'
                            }, 300);
                        } else {
                            box.stop().animate({
                                height: '200px'
                            }, 300);
                        }

                        box.attr('data-height', h);
                    }

                }, 1000)

                if (toolbar.html()){
                    toolbar.css('position', 'relative').css('top', 'unset')
                }

            } else {
                container.parent().removeClass('d-none');
                container.summernote('disable');
            }
        }
    }

</script>